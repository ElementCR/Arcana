#Aggregate Query For Unique Company, Domain, App Totals, and Categories
db.constants.aggregate([
  { $group: { _id:"$companyName", domain:{$first:"$domain"}, appsTotal: { $sum: 1 }, categories:{$addToSet:"$category"}}},
  {$sort:{appsTotal:-1}}]);



                var base_url = 'https://appexchange.salesforce.com';

                var iframe_element = document.getElementById('TrackingPixels');

                iframe_element.addEventListener("load", function () {
                    var pixels = JSON.parse('[{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\
                    "url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000DatYUAS\"},\"Id\":\"a5R3A000000DatYUAS\",
                    \"Name\":\"[Redesign] Listing Details, Google\",\"Source__c\":\"https://www.googleadservices.com/pagead/conversion/966635447/?label=Mr30CLyly24Qt9_2zAM&amp;guid=ON&amp;script=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000Pte0UAC\"},\"Name\":\"Pageload[AppxListingDetail]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYleUAG\"},\"Id\":\"a5R3A000000PYleUAG\",\"Name\":\"[Redesign] Listing Details, Outbrain\",\"Source__c\":\"https://traffic.outbrain.com/network/trackpxl?advid=39106&action=view\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000Pte0UAC\"},\"Name\":\"Pageload[AppxListingDetail]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000DatTUAS\"},\"Id\":\"a5R3A000000DatTUAS\",\"Name\":\"All AppExchange, LinkedIn\",\"Source__c\":\"https://dc.ads.linkedin.com/collect/?fmt=gif&pid=543\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbvUAC\"},\"Name\":\"Pageload[\*]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlSUAW\"},\"Id\":\"a5R3A000000PYlSUAW\",\"Name\":\"Submit Package Install, Google\",\"Source__c\":\"https://www.googleadservices.com/pagead/conversion/966635447/?label=aXyiCOHnlVoQt9_2zAM&amp;guid=ON&amp;script=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbrUAC\"},\"Name\":\"Analytics[submitPackageInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlTUAW\"},\"Id\":\"a5R3A000000PYlTUAW\",\"Name\":\"Submit Package Install, Double Click\",\"Source__c\":\"https://ad.doubleclick.net/ddm/activity/src=4219583;type=appex805;cat=appex291;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbrUAC\"},\"Name\":\"Analytics[submitPackageInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlUUAW\"},\"Id\":\"a5R3A000000PYlUUAW\",\"Name\":\"Submit Demo Install, Google\",\"Source__c\":\"https://www.googleadservices.com/pagead/conversion/966635447/?label=WpNyCJuHmVsQt9_2zAM&amp;guid=ON&amp;script=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbsUAC\"},\"Name\":\"Analytics[submitDemoInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlVUAW\"},\"Id\":\"a5R3A000000PYlVUAW\",\"Name\":\"All AppExchange, Double Click\",\"Source__c\":\"https://ad.doubleclick.net/ddm/activity/src=4219583;type=appex805;cat=AppEx-;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbvUAC\"},\"Name\":\"Pageload[\*]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlWUAW\"},\"Id\":\"a5R3A000000PYlWUAW\",\"Name\":\"All AppExchange, Facebook\",\"Source__c\":\"https://www.facebook.com/tr?id=423398864509216&ev=PageView&noscript=1\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbvUAC\"},\"Name\":\"Pageload[\*]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlXUAW\"},\"Id\":\"a5R3A000000PYlXUAW\",\"Name\":\"All AppExchange, Twitter 1\",\"Source__c\":\"https://analytics.twitter.com/i/adsct?p_id=Twitter&p_user_id=0&txn_id=nuv0k&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbvUAC\"},\"Name\":\"Pageload[\*]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlYUAW\"},\"Id\":\"a5R3A000000PYlYUAW\",\"Name\":\"All AppExchange, Twitter 2\",\"Source__c\":\"https://t.co/i/adsct?p_id=Twitter&p_user_id=0&txn_id=nuv0k&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbvUAC\"},\"Name\":\"Pageload[\*]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlZUAW\"},\"Id\":\"a5R3A000000PYlZUAW\",\"Name\":\"Submit Demo Install, Twitter 1\",\"Source__c\":\"https://analytics.twitter.com/i/adsct?p_id=Twitter&p_user_id=0&txn_id=ntgtk&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbsUAC\"},\"Name\":\"Analytics[submitDemoInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlaUAG\"},\"Id\":\"a5R3A000000PYlaUAG\",\"Name\":\"Submit Demo Install, Twitter 2\",\"Source__c\":\"https://t.co/i/adsct?p_id=Twitter&p_user_id=0&txn_id=ntgtk&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbsUAC\"},\"Name\":\"Analytics[submitDemoInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYlbUAG\"},\"Id\":\"a5R3A000000PYlbUAG\",\"Name\":\"All AppExchange, Google\",\"Source__c\":\"https://googleads.g.doubleclick.net/pagead/viewthroughconversion/966635447/?guid=ON&amp;script=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbvUAC\"},\"Name\":\"Pageload[\*]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000PYldUAG\"},\"Id\":\"a5R3A000000PYldUAG\",\"Name\":\"Submit Demo Install, DoubleClick\",\"Source__c\":\"https://ad.doubleclick.net/ddm/activity/src=4219583;type=appex805;cat=AppEx0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbsUAC\"},\"Name\":\"Analytics[submitDemoInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000DatnUAC\"},\"Id\":\"a5R3A000000DatnUAC\",\"Name\":\"Submit Demo Install, Facebook\",\"Source__c\":\"https://www.facebook.com/tr?id=423398864509216&ev=Lead&noscript=1\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbsUAC\"},\"Name\":\"Analytics[submitDemoInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000DatsUAC\"},\"Id\":\"a5R3A000000DatsUAC\",\"Name\":\"Content Listing Detail, Google\",\"Source__c\":\"https://www.googleadservices.com/pagead/conversion/966635447/?label=tF4rCJeHunsQt9_2zAM&amp;guid=ON&amp;script=0\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000Ptk4UAC\"},\"Name\":\"Pageload[appxContentListingDetail]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000DatiUAC\"},\"Id\":\"a5R3A000000DatiUAC\",\"Name\":\"Submit Package Install, Facebook\",\"Source__c\":\"https://www.facebook.com/tr?id=423398864509216&ev=Lead&noscript=1\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000PtbrUAC\"},\"Name\":\"Analytics[submitPackageInstall]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000Day5UAC\"},\"Id\":\"a5R3A000000Day5UAC\",\"Name\":\"Content Listing Detail, DoubleClick\",\"Source__c\":\"https://ad.doubleclick.net/ddm/activity/src=4219583;type=appex001;cat=appex00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?\",\"Tracking_Event__r\":{\"attributes\":{\"type\":\"Tracking_Event__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Event__c/a5P3A000000Ptk4UAC\"},\"Name\":\"Pageload[appxContentListingDetail]\"}},{\"attributes\":{\"type\":\"Tracking_Pixel__c\",\"url\":\"/services/data/v42.0/sobjects/Tracking_Pixel__c/a5R3A000000DayAUAS\"},\"Id\":\"a5R3A000000DayAUAS\",\"Name\":\"[Redesign] Listing Details, DoubleClick\",\"Source__c\":\"https://ad.doubleclick.net/ddm/activity/src=4219583;type=appex001;cat=appex0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?\"…